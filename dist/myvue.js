
		(function(graph){function require(module){const exports = {};function localRequire(relativePath){return require(graph[module].dependencies[relativePath])};(function(module,exports,require){eval(module.code)})(graph[module],exports,localRequire);return exports};require('./src/index.js')})({"./src/index.js":{"dependencies":{"./vue.js":"./src/vue.js"},"code":"\"use strict\";\n\nvar _vue = _interopRequireDefault(require(\"./vue.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nif (window) {\n  window.Vue = _vue[\"default\"];\n}"},"./src/vue.js":{"dependencies":{"./observer.js":"./src/observer.js","./watch.js":"./src/watch.js","./compiler.js":"./src/compiler.js"},"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _observer = _interopRequireDefault(require(\"./observer.js\"));\n\nvar _watch = _interopRequireDefault(require(\"./watch.js\"));\n\nvar _compiler = _interopRequireDefault(require(\"./compiler.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Vue = /*#__PURE__*/function () {\n  function Vue(option) {\n    _classCallCheck(this, Vue);\n\n    this.$el = this.checkEl(option.el);\n    this.$data = option.data || {};\n    this.$methods = option.methods || {};\n    this.proxy(this.$data); //建立响应式数据\n\n    new _observer[\"default\"](this.$data); //解析模板\n\n    new _compiler[\"default\"](this);\n  }\n\n  _createClass(Vue, [{\n    key: \"checkEl\",\n    value: function checkEl(el) {\n      var $el = typeof el === 'string' ? document.querySelector(el) : el;\n      if (!$el) throw new Error('myvue warn: The option el is invalid!');\n      return $el;\n    }\n  }, {\n    key: \"proxy\",\n    value: function proxy(data) {\n      var _this = this;\n\n      Object.keys(data).forEach(function (key) {\n        Object.defineProperty(_this, key, {\n          enumerable: true,\n          configurable: true,\n          get: function get() {\n            return data[key];\n          },\n          set: function set(newVal) {\n            if (newVal === data[key]) return;\n            data[key] = newVal;\n          }\n        });\n      });\n    }\n  }]);\n\n  return Vue;\n}();\n\nexports[\"default\"] = Vue;"},"./src/observer.js":{"dependencies":{"./dep.js":"./src/dep.js"},"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _dep = _interopRequireDefault(require(\"./dep.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Observer = /*#__PURE__*/function () {\n  function Observer(data) {\n    _classCallCheck(this, Observer);\n\n    this.traverse(data);\n  }\n\n  _createClass(Observer, [{\n    key: \"traverse\",\n    value: function traverse(data) {\n      if (_typeof(data) !== 'object') return;\n      var that = this;\n      Object.keys(data).forEach(function (key) {\n        if (_typeof(data[key]) === 'object') {\n          that.traverse(data[key]);\n        } else {\n          that.defineReactive(data, key, data[key]);\n        }\n      });\n    }\n  }, {\n    key: \"defineReactive\",\n    value: function defineReactive(obj, key, val) {\n      var dep = new _dep[\"default\"]();\n      var that = this;\n      Object.defineProperty(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function get() {\n          _dep[\"default\"].target && dep.addSub(_dep[\"default\"].target);\n          return val;\n        },\n        set: function set(newVal) {\n          if (newVal === val) return;\n          val = newVal;\n          that.traverse(newVal);\n          dep.notify();\n        }\n      });\n    }\n  }]);\n\n  return Observer;\n}();\n\nexports[\"default\"] = Observer;"},"./src/watch.js":{"dependencies":{"./dep.js":"./src/dep.js"},"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _dep = _interopRequireDefault(require(\"./dep.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Watch = /*#__PURE__*/function () {\n  function Watch(vm, key, cb) {\n    _classCallCheck(this, Watch);\n\n    this.vm = vm;\n    this.key = key;\n    this.cb = cb;\n    _dep[\"default\"].target = this;\n    this.oldValue = vm[key];\n    _dep[\"default\"].target = null;\n  }\n\n  _createClass(Watch, [{\n    key: \"update\",\n    value: function update() {\n      var newValue = this.vm[this.key];\n      if (this.oldValue === newValue) return;\n      this.cb(this.oldValue, newValue);\n      this.oldValue = newValue;\n    }\n  }]);\n\n  return Watch;\n}();\n\nexports[\"default\"] = Watch;"},"./src/compiler.js":{"dependencies":{"./watch.js":"./src/watch.js"},"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _watch = _interopRequireDefault(require(\"./watch.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Compiler = /*#__PURE__*/function () {\n  function Compiler(vm) {\n    _classCallCheck(this, Compiler);\n\n    this.el = vm.$el;\n    this.vm = vm;\n    this.methods = vm.$methods;\n    this.compile(this.el);\n  }\n\n  _createClass(Compiler, [{\n    key: \"compile\",\n    value: function compile(el) {\n      var that = this;\n      var childNodes = el.childNodes;\n      var nodeType = el.nodeType;\n\n      switch (nodeType) {\n        /**元素节点 */\n        case 1:\n          that.compileElement(el);\n          break;\n\n        /**文本节点 */\n\n        case 3:\n          that.compileText(el);\n          break;\n      }\n\n      if (childNodes && childNodes.length > 0) {\n        for (var i = 0; i < childNodes.length; ++i) {\n          var node = childNodes[i];\n          this.compile(node);\n        }\n      }\n    }\n  }, {\n    key: \"compileText\",\n    value: function compileText(node) {\n      var content = node.textContent;\n      var expressionReg = /\\{\\{(.+?)\\}\\}/g;\n      var matches = content.match(expressionReg);\n      if (!matches) return;\n\n      var _iterator = _createForOfIteratorHelper(matches),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var match = _step.value;\n\n          var _matchKey = match.trim();\n\n          _matchKey = _matchKey.substring(2, _matchKey.length);\n          _matchKey = _matchKey.substring(0, _matchKey.length - 2).trim();\n          var value = this.vm[_matchKey];\n\n          if (value === undefined) {\n            try {\n              value = eval(\"\".concat(_matchKey));\n            } catch (e) {\n              throw new Error(\"template render error: the key \".concat(_matchKey, \" is not exists in vm or the expression is invalid !\"));\n            }\n          }\n\n          content = content.replace(match, value);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      node.textContent = content;\n    }\n  }, {\n    key: \"compileElement\",\n    value: function compileElement(node) {\n      var attributes = node.attributes;\n\n      if (attributes && attributes.length > 0) {\n        var _iterator2 = _createForOfIteratorHelper(attributes),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var attr = _step2.value;\n            var name = attr.name,\n                value = attr.value;\n            var type = 0;\n            /** 解析v-开头的指令 */\n\n            if (name.startsWith('v-')) {\n              name = name.substring(2, name.length).trim();\n\n              if (name.indexOf(':') > -1) {\n                type = 1;\n                name = name.substring(name.indexOf(':') + 1, name.length);\n              }\n\n              this.update(node, value, name, type);\n              /**解析 @绑定的事件 */\n            } else if (name.startsWith('@')) {\n              type = 1;\n              name = name.substring(1, name.length).trim();\n              this.update(node, value, name, type);\n            }\n            /** 其他的指令发挥你的创造性才能吧！ */\n\n            /** 比如考虑如何实现 指令修饰符.sync .stop ... */\n\n            /** 当解析完指令后，我们从浏览器还能看到v-* 等属性，如何解析完，在适合的地方\r\n            \t移除他们，交给你来实现！！！\r\n            */\n\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    }\n    /**\r\n     * @param {Object} node\r\n     * @param {Object} key\r\n     * @param {Object} directiveName\r\n     * @param {Object} type 指令类型: 0 普通指令 1 事件指令\r\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(node, key, directiveName, type) {\n      var updateFn = this[\"\".concat(directiveName, \"Updater\")];\n      if (!updateFn) throw new Error(\"invalid directive:\".concat(directiveName));\n      var value = type == 0 ? this.vm[key] : type == 1 ? this.vm.$methods[key] : null;\n\n      if (value === undefined) {\n        try {\n          value = eval(\"\".concat(key));\n        } catch (e) {\n          throw new Error(\"template render error: the key \".concat(matchKey, \" is not exists in vm or the expression is invalid !\"));\n        }\n      }\n\n      updateFn.call(this, node, value, key);\n    }\n  }, {\n    key: \"textUpdater\",\n    value: function textUpdater(node, value, key) {\n      node.innerText = value;\n      new _watch[\"default\"](this.vm, key, function (oldValue, newValue) {\n        node.innerText = newValue;\n      });\n    }\n  }, {\n    key: \"htmlUpdater\",\n    value: function htmlUpdater(node, value, key) {\n      node.innerHTML = value;\n      new _watch[\"default\"](this.vm, key, function (oldValue, newValue) {\n        node.innerHTML = newValue;\n      });\n    }\n  }, {\n    key: \"modelUpdater\",\n    value: function modelUpdater(node, value, key) {\n      var _this = this;\n\n      //暂且只有input等有value值得元素可以设置v-model \n      if (node.value == undefined) throw new Error(\"directive v-model using in a invalid way!\");\n      node.value = value;\n      new _watch[\"default\"](this.vm, key, function (oldValue, newValue) {\n        node.value = newValue;\n      });\n      node.addEventListener('input', function (e) {\n        _this.vm[key] = e.target.value;\n      });\n    }\n  }, {\n    key: \"ifUpdater\",\n    value: function ifUpdater(node, value, key) {\n      //v-if = \"true\" 表达式形式\n      if (key.trim() === value + \"\") {\n        value ? node : node.parentNode.removeChild(node);\n      } else {\n        var next;\n        var parent;\n        value ? node : (parent = node.parentNode, next = node.nextSibling, parent.removeChild(node));\n        new _watch[\"default\"](this.vm, key, function (oldValue, newValue) {\n          newValue ? parent.insertBefore(node, next) : (next = node.nextSibling, parent.removeChild(node));\n        });\n      }\n    }\n  }, {\n    key: \"clickUpdater\",\n    value: function clickUpdater(node, value, key) {\n      var _this2 = this;\n\n      node.addEventListener('click', function () {\n        value.call(_this2.vm);\n      });\n    }\n  }]);\n\n  return Compiler;\n}();\n\nexports[\"default\"] = Compiler;"},"./src/dep.js":{"dependencies":{},"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Dep = /*#__PURE__*/function () {\n  function Dep() {\n    _classCallCheck(this, Dep);\n\n    this.subs = [];\n  }\n\n  _createClass(Dep, [{\n    key: \"addSub\",\n    value: function addSub(watcher) {\n      if (watcher) {\n        this.subs.push(Dep.target);\n      }\n    }\n  }, {\n    key: \"notify\",\n    value: function notify() {\n      this.subs.forEach(function (watcher) {\n        watcher.update();\n      });\n    }\n  }]);\n\n  return Dep;\n}();\n\nexports[\"default\"] = Dep;"}})
	